<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project UniLife - äº§å“éœ€æ±‚ä¸æ¶æ„ç™½çš®ä¹¦</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #fafaf9; color: #1c1917; } /* Stone-50 background */
        
        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Custom Scrollbar for Phone Mockup & Calendar */
        .custom-scroll::-webkit-scrollbar {
            width: 4px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #d6d3d1; 
            border-radius: 2px;
        }

        /* Architecture Layer Hover Effect */
        .arch-layer {
            transition: all 0.3s ease;
        }
        .arch-layer:hover {
            transform: translateX(10px);
            border-left-width: 8px;
        }
        .active-layer {
            border-left-width: 8px;
            background-color: #e0f2fe; /* Sky-100 */
        }

        /* Calendar Specific Styles */
        .time-slot {
            height: 60px; /* 1 hour height */
            border-bottom: 1px dashed #e7e5e4;
        }
        .event-card {
            transition: all 0.2s ease-out;
            cursor: pointer;
        }
        .event-card:hover {
            transform: scale(1.02);
            z-index: 10;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .event-solid {
            background-color: #e7e5e4; /* Stone-200 */
            border-left: 4px solid #78716c; /* Stone-500 */
            color: #44403c;
        }
        .event-flexible {
            background-color: #e0e7ff; /* Indigo-50 */
            border: 2px dashed #818cf8; /* Indigo-400 */
            color: #3730a3;
        }
        .event-ghost {
            background-color: #f0f9ff; /* Sky-50 */
            border: 1px dotted #38bdf8; /* Sky-400 */
            color: #0369a1;
            opacity: 0.6;
            background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #e0f2fe 5px, #e0f2fe 10px);
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 antialiased selection:bg-sky-200 selection:text-sky-900">

    <!-- Navigation -->
    <nav class="sticky top-0 z-50 bg-stone-50/90 backdrop-blur-md border-b border-stone-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex items-center gap-2">
                    <span class="text-2xl">ğŸ§­</span>
                    <h1 class="text-xl font-bold tracking-tight text-stone-900">Project UniLife</h1>
                </div>
                <div class="hidden md:flex space-x-8 text-sm font-medium text-stone-600">
                    <a href="#vision" class="hover:text-sky-600 transition">æ„¿æ™¯</a>
                    <a href="#engine" class="hover:text-sky-600 transition">æ ¸å¿ƒå¼•æ“</a>
                    <a href="#calendar" class="hover:text-sky-600 transition text-indigo-600">ç•Œé¢é¢„è§ˆ</a>
                    <a href="#scenarios" class="hover:text-sky-600 transition">æ€æ‰‹çº§åœºæ™¯</a>
                    <a href="#architecture" class="hover:text-sky-600 transition">ç³»ç»Ÿæ¶æ„</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="vision" class="pt-20 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto text-center">
        <div class="inline-flex items-center px-3 py-1 rounded-full bg-sky-100 text-sky-800 text-xs font-semibold uppercase tracking-wide mb-6">
            MVP Phase v1.1
        </div>
        <h1 class="text-4xl md:text-6xl font-bold text-stone-900 mb-6 tracking-tight">
            é¢å‘å¤§å­¦ç”Ÿçš„<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-sky-600 to-indigo-600">æ™ºèƒ½ç”Ÿæ´»é¢†èˆªå‘˜</span>
        </h1>
        <p class="mt-4 max-w-2xl mx-auto text-xl text-stone-500">
            æ‡‚å¦¥åã€ä¼šåšå¼ˆã€èƒ½è¿›åŒ–çš„ç”Ÿæ´»è®¡ç®—å¼•æ“ã€‚
            <br>ä¸ä»…ä»…æ˜¯æ—¥å†ï¼Œæ›´æ˜¯ä½ çš„â€œç¬¬äºŒå¤§è„‘â€ã€‚
        </p>
        
        <div class="mt-10 grid grid-cols-1 md:grid-cols-3 gap-8 text-left">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition">
                <div class="text-3xl mb-3">ğŸ§©</div>
                <h3 class="font-bold text-lg mb-2">è§£å†³ç»“æ„åŒ–å›°å¢ƒ</h3>
                <p class="text-sm text-stone-600">åˆšæ€§è¯¾è¡¨ä¸ç¢ç‰‡è‡ªç”±çš„å®Œç¾è°ƒå’Œã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition">
                <div class="text-3xl mb-3"âš–ï¸</div>
                <h3 class="font-bold text-lg mb-2">äººæ€§åŒ–åŠ¨æ€å¹³è¡¡</h3>
                <p class="text-sm text-stone-600">æ‹’ç»æœºæ¢°æ‰§è¡Œï¼Œæ”¯æŒâ€œå½±å­åå•†â€ä¸æ¨¡ç³Šè¾“å…¥ã€‚</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-stone-100 hover:shadow-md transition">
                <div class="text-3xl mb-3">ğŸ§¬</div>
                <h3 class="font-bold text-lg mb-2">å¤œé—´è¿›åŒ–æœºåˆ¶</h3>
                <p class="text-sm text-stone-600">åŸºäºè¡Œä¸ºå½’å› çš„è‡ªæˆ‘å‚æ•°æ ¡å‡†ï¼Œè¶Šç”¨è¶Šæ‡‚ä½ ã€‚</p>
            </div>
        </div>
    </header>

    <!-- Section: The Problem Space (Data Viz) -->
    <section class="py-16 bg-white border-y border-stone-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="lg:grid lg:grid-cols-2 lg:gap-16 items-center">
                <div>
                    <h2 class="text-3xl font-bold text-stone-900 mb-4">ä¸ºä»€ä¹ˆå¤§å­¦ç”Ÿéœ€è¦ UniLife?</h2>
                    <p class="text-lg text-stone-600 mb-6">
                        ä¼ ç»Ÿçš„æ—¥å†å·¥å…·è¦ä¹ˆè¿‡äºæ­»æ¿ï¼Œè¦ä¹ˆç»´æŠ¤æˆæœ¬å¤ªé«˜ã€‚å¤§å­¦ç”Ÿé¢ä¸´çš„æ˜¯ä¸€ç§ç‹¬ç‰¹çš„â€œåˆšæ€§ä¸å¼¹æ€§â€å¹¶å­˜çš„æ—¶é—´ç»“æ„ã€‚
                    </p>
                    <ul class="space-y-4">
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center text-red-500 bg-red-50 rounded-full text-xs mr-3">âœ–</span>
                            <span class="text-stone-600"><strong>è§„åˆ’å‰²è£‚ï¼š</strong> æƒ³è‡ªå¾‹ä½†åšä¸åˆ°ï¼Œä¸€æ—¦ç ´æˆ’ç›´æ¥æ”¾å¼ƒã€‚</span>
                        </li>
                        <li class="flex items-start">
                            <span class="flex-shrink-0 h-6 w-6 flex items-center justify-center text-red-500 bg-red-50 rounded-full text-xs mr-3">âœ–</span>
                            <span class="text-stone-600"><strong>å˜æ•°å¤ªå¤šï¼š</strong> ä¸´æ—¶çº¦ä¼šã€ç¡è¿‡å¤´ã€çªå‘ä½œä¸šï¼Œä¼ ç»Ÿå·¥å…·æ— æ³•åŠ¨æ€è°ƒæ•´ã€‚</span>
                        </li>
                    </ul>
                </div>
                <div class="mt-10 lg:mt-0">
                    <div class="bg-stone-50 p-6 rounded-2xl border border-stone-200">
                        <h3 class="text-center font-semibold text-stone-700 mb-4">å…¸å‹çš„å¤§å­¦ç”Ÿæ—¶é—´ç¢ç‰‡åˆ†æ</h3>
                        <div class="chart-container">
                            <canvas id="problemChart"></canvas>
                        </div>
                        <p class="text-center text-xs text-stone-400 mt-2">ç‚¹å‡»å›¾è¡¨åŒºåŸŸæŸ¥çœ‹è¯¦æƒ…</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section: The Core Engine (Interactive Simulation) -->
    <section id="engine" class="py-16 bg-stone-50">
        <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center mb-10">
            <h2 class="text-3xl font-bold text-stone-900">æ ¸å¿ƒå¼•æ“ï¼šå½±å­åå•† (Shadow Negotiation)</h2>
            <p class="mt-4 text-stone-600">
                UniLife ä¸ä¼šç›´æ¥æŠŠä»»åŠ¡å¡è¿›ä½ çš„æ—¥å†ã€‚æ‰€æœ‰è¯·æ±‚éƒ½ä¼šå…ˆè¿›å…¥å†…å­˜ä¸­çš„â€œå½±å­å±‚â€è¿›è¡Œæ¨¡æ‹Ÿæ¼”ç®—ã€‚
                <br>è¯•ç€æ‹–åŠ¨ä¸‹é¢çš„æ»‘å—ï¼Œçœ‹çœ‹ AI æ˜¯å¦‚ä½•åŸºäºâ€œä»£ä»·å‡½æ•° (Cost Function)â€è¿›è¡Œå†³ç­–çš„ã€‚
            </p>
        </div>

        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="bg-white rounded-2xl shadow-lg border border-stone-200 overflow-hidden">
                <div class="grid md:grid-cols-2">
                    <!-- Control Panel -->
                    <div class="p-8 border-b md:border-b-0 md:border-r border-stone-100 bg-stone-50/50">
                        <h3 class="font-bold text-stone-800 mb-6 flex items-center">
                            <span class="bg-indigo-600 text-white w-6 h-6 rounded flex items-center justify-center text-xs mr-2">1</span>
                            è¾“å…¥æ¨¡æ‹Ÿ
                        </h3>
                        
                        <div class="mb-8">
                            <label class="block text-sm font-medium text-stone-700 mb-2">ä»»åŠ¡è¯·æ±‚ï¼šè¿™å‘¨æˆ‘è¦è‡ªä¹ ...</label>
                            <div class="flex items-center gap-4">
                                <input type="range" min="1" max="10" value="3" id="hoursInput" class="w-full h-2 bg-stone-200 rounded-lg appearance-none cursor-pointer accent-indigo-600">
                                <span class="text-indigo-600 font-bold w-16 text-right"><span id="hoursValue">3</span> å°æ—¶</span>
                            </div>
                        </div>

                        <div class="mb-8">
                            <label class="block text-sm font-medium text-stone-700 mb-2">å½“å‰è¯¾è¡¨å¯†åº¦</label>
                            <div class="flex gap-2 text-xs">
                                <button onclick="setDensity('low')" class="density-btn px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300 transition" data-val="low">ç©ºé—²</button>
                                <button onclick="setDensity('medium')" class="density-btn px-3 py-1 rounded-full bg-indigo-100 text-indigo-700 ring-2 ring-indigo-500" data-val="medium">æ™®é€š</button>
                                <button onclick="setDensity('high')" class="density-btn px-3 py-1 rounded-full bg-stone-200 hover:bg-stone-300 transition" data-val="high">è€ƒç ”å‘¨</button>
                            </div>
                        </div>

                        <div class="p-4 bg-white rounded-lg border border-stone-200">
                            <h4 class="text-xs font-bold text-stone-400 uppercase tracking-wider mb-2">å®æ—¶ä»£ä»·è®¡ç®— (Cost Function)</h4>
                            <div class="space-y-3">
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>ç¢ç‰‡åŒ–ç¨‹åº¦</span>
                                        <span id="costFrag" class="font-mono">20%</span>
                                    </div>
                                    <div class="h-1.5 bg-stone-100 rounded-full overflow-hidden">
                                        <div id="barFrag" class="h-full bg-sky-500 transition-all duration-300" style="width: 20%"></div>
                                    </div>
                                </div>
                                <div>
                                    <div class="flex justify-between text-xs mb-1">
                                        <span>ç—›è‹¦æŒ‡æ•° (æ—©èµ·/ç†¬å¤œ)</span>
                                        <span id="costPain" class="font-mono">10%</span>
                                    </div>
                                    <div class="h-1.5 bg-stone-100 rounded-full overflow-hidden">
                                        <div id="barPain" class="h-full bg-orange-500 transition-all duration-300" style="width: 10%"></div>
                                    </div>
                                </div>
                                <div class="pt-2 border-t border-stone-100 mt-2">
                                    <div class="flex justify-between items-center">
                                        <span class="font-bold text-sm text-stone-800">æ€»ä»£ä»· (Total Cost)</span>
                                        <span id="totalCost" class="font-bold text-lg text-stone-800">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Output -->
                    <div class="p-8 relative">
                        <h3 class="font-bold text-stone-800 mb-6 flex items-center">
                            <span class="bg-emerald-500 text-white w-6 h-6 rounded flex items-center justify-center text-xs mr-2">2</span>
                            AI å†³ç­–è¾“å‡º
                        </h3>

                        <div id="aiThinking" class="hidden absolute inset-0 bg-white/80 backdrop-blur flex flex-col items-center justify-center z-10">
                            <div class="text-4xl animate-pulse">ğŸ¤–</div>
                            <p class="text-sm text-stone-500 mt-2 font-mono">Simulating Shadow Calendar...</p>
                        </div>

                        <div id="aiResult" class="transition-all duration-500">
                            <!-- Dynamic Content Here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section: Calendar Interface Preview (NEW) -->
    <section id="calendar" class="py-16 bg-white border-y border-stone-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-10 text-center">
                <h2 class="text-3xl font-bold text-stone-900">ç•Œé¢é¢„è§ˆï¼šæµå¼æ—¶é—´è½´</h2>
                <p class="mt-4 text-stone-600 max-w-2xl mx-auto">
                    ä¸åŒäºä¼ ç»Ÿæ—¥å†ï¼ŒUniLife å°†â€œåˆšæ€§è¯¾è¡¨â€ä¸â€œå¼¹æ€§å»ºè®®â€å¯è§†åŒ–åŒºåˆ†ã€‚
                    <br>ç‚¹å‡»å³ä¸Šè§’å¼€å…³ï¼Œå¼€å¯<b>â€œå½±å­è§†è§’â€</b>ï¼ŒæŸ¥çœ‹ AI åœ¨åå°è®¡ç®—çš„å¤‡é€‰æ–¹æ¡ˆã€‚
                </p>
            </div>

            <div class="grid lg:grid-cols-3 gap-8 items-start">
                <!-- Legend / Explanation -->
                <div class="lg:col-span-1 space-y-6">
                    <div class="bg-stone-50 p-6 rounded-xl border border-stone-100">
                        <h3 class="font-bold text-stone-800 mb-4">è§†è§‰å›¾ä¾‹</h3>
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <div class="w-12 h-10 bg-stone-200 border-l-4 border-stone-500 rounded text-xs flex items-center justify-center font-bold text-stone-500 mr-3">è¯¾è¡¨</div>
                                <div>
                                    <p class="text-sm font-bold text-stone-800">åˆšæ€§å— (Solid)</p>
                                    <p class="text-xs text-stone-500">ä¸å¯ç§»åŠ¨ï¼Œä¼˜å…ˆçº§æœ€é«˜ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-center">
                                <div class="w-12 h-10 bg-indigo-50 border-2 border-dashed border-indigo-400 rounded text-xs flex items-center justify-center font-bold text-indigo-600 mr-3">AI</div>
                                <div>
                                    <p class="text-sm font-bold text-stone-800">å¼¹æ€§å»ºè®® (Flexible)</p>
                                    <p class="text-xs text-stone-500">AI å¡«å…¥ç¼éš™çš„ä»»åŠ¡ï¼Œå¯åå•†ã€‚</p>
                                </div>
                            </div>
                            <div class="flex items-center opacity-70">
                                <div class="w-12 h-10 bg-sky-50 border border-dotted border-sky-400 rounded text-xs flex items-center justify-center font-bold text-sky-600 mr-3" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 5px, #e0f2fe 5px, #e0f2fe 10px);">å½±å­</div>
                                <div>
                                    <p class="text-sm font-bold text-stone-800">å½±å­æ–¹æ¡ˆ (Ghost)</p>
                                    <p class="text-xs text-stone-500">åå°è®¡ç®—çš„å¤‡é€‰ï¼Œé»˜è®¤éšè—ã€‚</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="p-4 bg-indigo-900 rounded-xl text-white shadow-lg">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-bold">å½±å­é€è§†æ¨¡å¼</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" id="ghostToggle" class="sr-only peer" onchange="toggleGhosts()">
                                <div class="w-11 h-6 bg-indigo-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-sky-500"></div>
                            </label>
                        </div>
                        <p class="text-xs text-indigo-200">
                            å¼€å¯åï¼Œä½ å¯ä»¥çœ‹åˆ° AI æ›¾è€ƒè™‘è¿‡ä½†å› ä»£ä»·è¿‡é«˜è€Œæ”¾å¼ƒçš„æ’æœŸæ–¹æ¡ˆã€‚
                        </p>
                    </div>
                </div>

                <!-- Interactive Calendar Mockup -->
                <div class="lg:col-span-2 bg-white border border-stone-200 rounded-2xl shadow-xl overflow-hidden flex flex-col h-[600px]">
                    <!-- Header -->
                    <div class="px-6 py-4 border-b border-stone-100 flex justify-between items-center bg-stone-50">
                        <div class="flex items-baseline gap-2">
                            <span class="text-2xl font-bold text-stone-800">9æœˆ25æ—¥</span>
                            <span class="text-stone-500">å‘¨ä¸‰ (è€ƒè¯•å‘¨)</span>
                        </div>
                        <div class="text-xs px-2 py-1 bg-white border border-stone-200 rounded text-stone-500">
                            ä»Šæ—¥å®Œæˆåº¦: 65%
                        </div>
                    </div>

                    <!-- Scrollable Timeline -->
                    <div class="flex-1 overflow-y-auto custom-scroll relative p-4" id="calendarContainer">
                        <!-- Grid Lines -->
                        <div class="absolute inset-0 pointer-events-none p-4 pt-6">
                            <!-- 8:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 9:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 10:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 11:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 12:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 13:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 14:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 15:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 16:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 17:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 18:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 19:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                            <!-- 20:00 --> <div class="h-[60px] border-b border-stone-100"></div>
                        </div>

                        <!-- Time Labels & Events -->
                        <div class="relative min-h-[800px] pl-16 pt-2">
                            <!-- Labels -->
                            <div class="absolute left-0 top-0 bottom-0 w-12 flex flex-col text-xs text-stone-400 font-mono space-y-[44px] pt-0">
                                <span>08:00</span><span>09:00</span><span>10:00</span><span>11:00</span><span>12:00</span>
                                <span>13:00</span><span>14:00</span><span>15:00</span><span>16:00</span><span>17:00</span>
                                <span>18:00</span><span>19:00</span><span>20:00</span>
                            </div>

                            <!-- Events -->
                            <!-- 8:00 - 9:35 Class -->
                            <div class="absolute top-[0px] left-16 right-4 h-[95px] event-card event-solid rounded-lg p-3 shadow-sm z-10">
                                <div class="flex justify-between">
                                    <span class="font-bold text-sm">é«˜ç­‰æ•°å­¦ (3-201)</span>
                                    <span class="text-xs opacity-60">1h 35m</span>
                                </div>
                                <div class="text-xs mt-1 text-stone-500">åˆšæ€§è¯¾è¡¨</div>
                            </div>

                            <!-- 10:00 - 11:35 Class -->
                            <div class="absolute top-[120px] left-16 right-4 h-[95px] event-card event-solid rounded-lg p-3 shadow-sm z-10">
                                <div class="flex justify-between">
                                    <span class="font-bold text-sm">çº¿æ€§ä»£æ•° (C-105)</span>
                                    <span class="text-xs opacity-60">1h 35m</span>
                                </div>
                                <div class="text-xs mt-1 text-stone-500">åˆšæ€§è¯¾è¡¨</div>
                            </div>

                            <!-- 12:00 Lunch -->
                            <div class="absolute top-[240px] left-16 right-4 h-[40px] flex items-center text-xs text-stone-400 z-10">
                                <span class="bg-stone-100 px-2 py-1 rounded">ğŸ± åˆé¤æ—¶é—´</span>
                            </div>

                            <!-- GHOST: 13:00 Nap (Hidden by default) -->
                            <div class="ghost-event hidden absolute top-[300px] left-16 right-32 h-[40px] event-ghost rounded-lg p-2 z-0 border-l-4 border-l-transparent">
                                <div class="text-xs font-bold">ğŸ˜´ åˆä¼‘ (è¢«æ”¾å¼ƒ)</div>
                            </div>

                            <!-- 14:00 - 17:00 AI Suggestion -->
                            <div class="absolute top-[360px] left-16 right-4 h-[180px] event-card event-flexible rounded-lg p-3 shadow-sm z-10 group">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <span class="font-bold text-sm text-indigo-700 flex items-center gap-2">
                                            ğŸ“– è‹±è¯­å¤§ä½œä¸š 
                                            <span class="bg-indigo-100 text-indigo-600 text-[10px] px-1 rounded">AI å»ºè®®</span>
                                        </span>
                                        <p class="text-xs text-indigo-400 mt-1">è·ç¦» Deadline è¿˜æœ‰ 2 å¤©</p>
                                    </div>
                                    <span class="text-xs text-indigo-400">3h</span>
                                </div>
                                <div class="mt-4 text-xs bg-white/50 p-2 rounded border border-indigo-100 text-indigo-800 opacity-0 group-hover:opacity-100 transition">
                                    ğŸ’¡ é€‰ä¸­ç†ç”±ï¼šè¿™æ˜¯ä½ ä»Šå¤©å”¯ä¸€çš„é•¿æ•´å—ç©ºé—²æ—¶é—´ã€‚
                                </div>
                            </div>

                            <!-- GHOST: 15:00 Game (Hidden) -->
                            <div class="ghost-event hidden absolute top-[420px] left-24 right-4 h-[60px] event-ghost rounded-lg p-2 z-20 bg-red-50 border-red-300 text-red-700">
                                <div class="text-xs font-bold">ğŸ® æ‰“æ¸¸æˆ (å†²çª: è‹±è¯­ä½œä¸š)</div>
                                <div class="text-[10px]">Cost: 85 (High)</div>
                            </div>

                            <!-- 19:00 - 21:00 Activity -->
                            <div class="absolute top-[660px] left-16 right-4 h-[120px] event-card bg-emerald-50 border-l-4 border-emerald-500 text-emerald-800 rounded-lg p-3 shadow-sm z-10">
                                <div class="flex justify-between">
                                    <span class="font-bold text-sm">ğŸ’ƒ è¡—èˆç¤¾æ’ç»ƒ</span>
                                    <span class="text-xs opacity-60">2h</span>
                                </div>
                                <div class="text-xs mt-1 text-emerald-600">ç”¨æˆ·é”å®š (å›ºå®šæ´»åŠ¨)</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section: The 6 Killer Scenarios -->
    <section id="scenarios" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-stone-900">6å¤§æ€æ‰‹çº§åœºæ™¯</h2>
                <p class="mt-4 text-stone-600">ç‚¹å‡»å·¦ä¾§åˆ—è¡¨ï¼ŒæŸ¥çœ‹ UniLife å¦‚ä½•é€šè¿‡ AI è§£å†³å…·ä½“çš„ç”Ÿæ´»éš¾é¢˜ã€‚</p>
            </div>

            <div class="grid lg:grid-cols-12 gap-8">
                <!-- Scenario List -->
                <div class="lg:col-span-4 space-y-2">
                    <button onclick="switchScenario(0)" class="scenario-btn w-full text-left p-4 rounded-xl transition border border-stone-100 hover:border-indigo-200 hover:bg-indigo-50 active-scenario group">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-stone-800 group-hover:text-indigo-700">1. æ¨¡ç³Šè¾“å…¥ä¸åå•†</h3>
                            <span class="text-stone-300 group-hover:text-indigo-400">â†’</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">åªè¯´æ„æ„¿ï¼Œä¸æŸ¥è¯¾è¡¨</p>
                    </button>
                    <button onclick="switchScenario(1)" class="scenario-btn w-full text-left p-4 rounded-xl transition border border-transparent hover:bg-stone-50">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-stone-800">2. åŠ¨æ€æ™ºèƒ½å‰æ‘‡</h3>
                            <span class="text-stone-300">â†’</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">ç¯®çƒèµ›æå‰40åˆ†é’Ÿï¼Œç½‘è¯¾æå‰5åˆ†é’Ÿ</p>
                    </button>
                    <button onclick="switchScenario(2)" class="scenario-btn w-full text-left p-4 rounded-xl transition border border-transparent hover:bg-stone-50">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-stone-800">3. è¯­å¢ƒæŒ‡ä»¤å¢å¼º</h3>
                            <span class="text-stone-300">â†’</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">ä¸‹è¯¾å‰äº”åˆ†é’Ÿæé†’æŠ¢ç¥¨</p>
                    </button>
                    <button onclick="switchScenario(3)" class="scenario-btn w-full text-left p-4 rounded-xl transition border border-transparent hover:bg-stone-50">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-stone-800">4. å†²çªç†”æ–­è§£å†³</h3>
                            <span class="text-stone-300">â†’</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">æ‰¿è®¤â€œé€ƒè¯¾â€ä¹Ÿæ˜¯ä¸€ç§é€‰é¡¹</p>
                    </button>
                    <button onclick="switchScenario(4)" class="scenario-btn w-full text-left p-4 rounded-xl transition border border-transparent hover:bg-stone-50">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-stone-800">5. ä¸»åŠ¨é¢„è­¦</h3>
                            <span class="text-stone-300">â†’</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">è¿˜æœ‰5å¤©è€ƒè¯•ï¼Œä½ è¿˜æ²¡å¤ä¹ </p>
                    </button>
                    <button onclick="switchScenario(5)" class="scenario-btn w-full text-left p-4 rounded-xl transition border border-transparent hover:bg-stone-50">
                        <div class="flex items-center justify-between">
                            <h3 class="font-bold text-stone-800">6. è‡ªç”±æ“æ§</h3>
                            <span class="text-stone-300">â†’</span>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">æå‰å®Œæˆä»»åŠ¡é‡Šæ”¾æœªæ¥æ—¶é—´</p>
                    </button>
                </div>

                <!-- Phone Mockup -->
                <div class="lg:col-span-8 flex justify-center bg-stone-100 rounded-3xl p-8 border border-stone-200">
                    <div class="w-[320px] h-[600px] bg-white rounded-[3rem] shadow-2xl border-8 border-stone-800 relative overflow-hidden flex flex-col">
                        <!-- Dynamic Island / Notch -->
                        <div class="absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-6 bg-stone-800 rounded-b-xl z-20"></div>
                        
                        <!-- Screen Header -->
                        <div class="pt-10 pb-4 px-6 bg-stone-50 border-b border-stone-100 z-10">
                            <div class="flex justify-between items-center">
                                <span class="text-xs font-bold text-stone-400">9:41</span>
                                <span class="text-xs font-bold text-stone-900" id="phoneTitle">UniLife AI</span>
                                <span class="text-xs text-stone-400">ğŸ“¶ ğŸ”‹</span>
                            </div>
                        </div>

                        <!-- Screen Body (Scrollable) -->
                        <div class="flex-1 overflow-y-auto p-4 phone-scroll bg-white relative" id="phoneScreen">
                            <!-- Dynamic Content Injected via JS -->
                        </div>

                        <!-- Input Area Mock -->
                        <div class="p-4 border-t border-stone-100 bg-stone-50">
                            <div class="h-10 bg-white rounded-full border border-stone-200 flex items-center px-4 text-stone-400 text-sm">
                                æŒ‰ä½è¯´è¯...
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section: Architecture -->
    <section id="architecture" class="py-16 bg-stone-900 text-stone-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid lg:grid-cols-2 gap-12">
                <div>
                    <h2 class="text-3xl font-bold text-white mb-6">ç³»ç»Ÿæ¶æ„ï¼šæ··åˆæ™ºèƒ½ (Hybrid Intelligence)</h2>
                    <p class="text-stone-400 mb-8">
                        UniLife é‡‡ç”¨åˆ†å±‚æ¶æ„ï¼Œä»¥ C# è§„åˆ™å¼•æ“ä¿éšœé€»è¾‘ä¸¥å¯†æ€§ï¼Œä»¥ Semantic Kernel + LLM æä¾›è¯­ä¹‰ç†è§£å’Œæ¨¡ç³Šå†³ç­–ã€‚
                        <br><br>
                        <span class="text-sky-400">é¼ æ ‡æ‚¬åœå³ä¾§å±‚çº§</span> æŸ¥çœ‹å„æ¨¡å—èŒè´£ã€‚
                    </p>
                    
                    <div id="archDetail" class="bg-stone-800 p-6 rounded-xl border border-stone-700 min-h-[200px]">
                        <h3 class="text-xl font-bold text-white mb-2" id="archTitle">å…¨ç³»ç»Ÿæ¦‚è§ˆ</h3>
                        <p class="text-stone-400 text-sm" id="archDesc">è¿™æ˜¯ä¸€ä¸ªä» L1 äº¤äº’åˆ° L4 æ•°æ®å­˜å‚¨çš„å®Œæ•´é—­ç¯ç³»ç»Ÿã€‚æ ¸å¿ƒåœ¨äº L3 çš„â€œå½±å­è°ƒåº¦å™¨â€ã€‚</p>
                        <div class="mt-4 flex gap-2 flex-wrap" id="archTags">
                            <span class="px-2 py-1 bg-stone-700 rounded text-xs">C#</span>
                            <span class="px-2 py-1 bg-stone-700 rounded text-xs">PostgreSQL</span>
                            <span class="px-2 py-1 bg-stone-700 rounded text-xs">LLM</span>
                        </div>
                    </div>
                </div>

                <div class="space-y-4">
                    <div onmouseover="showArch(4)" class="arch-layer p-4 bg-stone-800 border-l-4 border-sky-500 rounded cursor-pointer hover:bg-stone-700">
                        <div class="flex justify-between items-center">
                            <span class="font-mono text-sky-500 text-xs">L1</span>
                            <h4 class="font-bold">äº¤äº’å±‚ (Gateway)</h4>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">Uni-app / ASR / ä¼ æ„Ÿå™¨</p>
                    </div>

                    <div onmouseover="showArch(3)" class="arch-layer p-4 bg-stone-800 border-l-4 border-indigo-500 rounded cursor-pointer hover:bg-stone-700">
                        <div class="flex justify-between items-center">
                            <span class="font-mono text-indigo-500 text-xs">L2</span>
                            <h4 class="font-bold">è·¯ç”±å±‚ (Router)</h4>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">Intent Parser / Semantic Kernel</p>
                    </div>

                    <div onmouseover="showArch(2)" class="arch-layer p-4 bg-stone-800 border-l-4 border-purple-500 rounded cursor-pointer hover:bg-stone-700 relative overflow-hidden">
                        <div class="absolute right-0 top-0 p-1 bg-purple-600 text-[10px] font-bold text-white rounded-bl">CORE</div>
                        <div class="flex justify-between items-center">
                            <span class="font-mono text-purple-500 text-xs">L3</span>
                            <h4 class="font-bold">æ ¸å¿ƒå±‚ (Shadow Engine)</h4>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">Cost Evaluator / Tetris Algo / Circuit Breaker</p>
                    </div>

                    <div onmouseover="showArch(1)" class="arch-layer p-4 bg-stone-800 border-l-4 border-emerald-500 rounded cursor-pointer hover:bg-stone-700">
                        <div class="flex justify-between items-center">
                            <span class="font-mono text-emerald-500 text-xs">L4</span>
                            <h4 class="font-bold">æ•°æ®å±‚ (Memory)</h4>
                        </div>
                        <p class="text-xs text-stone-500 mt-1">Real DB / Shadow DB / User Profile</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-stone-50 border-t border-stone-200 py-12">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-stone-500 text-sm">Â© 2025 Project UniLife. All concepts and logic based on MVP Whitepaper v1.1.</p>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- 1. Chart.js Implementation (The Problem Space) ---
        document.addEventListener('DOMContentLoaded', function() {
            const ctx = document.getElementById('problemChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['åˆšæ€§è¯¾è¡¨ (ä¸å¯åŠ¨)', 'ç¢ç‰‡åŒ–è‡ªç”±æ—¶é—´ (å¯æ”¯é…)', 'ç”Ÿæ´»/ç¡çœ  (åŸºç¡€)'],
                    datasets: [{
                        data: [35, 30, 35],
                        backgroundColor: ['#e5e7eb', '#6366f1', '#f5f5f4'], // Stone-200, Indigo-500, Stone-100
                        hoverBackgroundColor: ['#d1d5db', '#4f46e5', '#e7e5e4'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { family: 'Inter' } } },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return ' ' + context.label + ': ' + context.raw + '%';
                                }
                            }
                        }
                    },
                    cutout: '70%'
                }
            });

            // Init default scenarios
            switchScenario(0);
        });

        // --- 2. Core Engine Simulation Logic ---
        let currentDensity = 'medium';
        const densityFactors = { 'low': 0.5, 'medium': 1.0, 'high': 1.8 };
        
        const hoursInput = document.getElementById('hoursInput');
        const hoursValue = document.getElementById('hoursValue');
        
        // Update UI when slider moves
        hoursInput.addEventListener('input', (e) => {
            hoursValue.textContent = e.target.value;
            runSimulation(parseInt(e.target.value), currentDensity);
        });

        function setDensity(level) {
            currentDensity = level;
            // Update buttons
            document.querySelectorAll('.density-btn').forEach(btn => {
                if(btn.dataset.val === level) {
                    btn.classList.add('bg-indigo-100', 'text-indigo-700', 'ring-2', 'ring-indigo-500');
                    btn.classList.remove('bg-stone-200');
                } else {
                    btn.classList.remove('bg-indigo-100', 'text-indigo-700', 'ring-2', 'ring-indigo-500');
                    btn.classList.add('bg-stone-200');
                }
            });
            runSimulation(parseInt(hoursInput.value), level);
        }

        function runSimulation(hours, density) {
            // "AI Thinking" Effect
            const resultDiv = document.getElementById('aiResult');
            const thinkingDiv = document.getElementById('aiThinking');
            
            // Calc Cost Logic
            // Base Cost = Hours * 10
            // Density Multiplier
            let fragCost = hours * 5 * densityFactors[density];
            let painCost = (hours > 4 ? (hours - 4) * 15 : 0) * densityFactors[density]; // Penalty for long blocks
            let totalCost = Math.round(fragCost + painCost);

            // Cap bars for visual
            let visualFrag = Math.min(fragCost, 100);
            let visualPain = Math.min(painCost, 100);

            // Update Bars
            document.getElementById('costFrag').textContent = Math.round(visualFrag) + '%';
            document.getElementById('barFrag').style.width = visualFrag + '%';
            document.getElementById('costPain').textContent = Math.round(visualPain) + '%';
            document.getElementById('barPain').style.width = visualPain + '%';
            
            // Update Total
            const totalEl = document.getElementById('totalCost');
            totalEl.textContent = totalCost;
            totalEl.className = totalCost > 80 ? 'font-bold text-lg text-red-600' : (totalCost > 50 ? 'font-bold text-lg text-orange-500' : 'font-bold text-lg text-emerald-600');

            // Generate Proposal Text
            let htmlContent = '';
            
            if (totalCost < 50) {
                // Success Case
                htmlContent = `
                    <div class="bg-emerald-50 border border-emerald-100 p-4 rounded-lg">
                        <div class="flex items-start">
                            <span class="text-xl mr-3">âœ…</span>
                            <div>
                                <h4 class="font-bold text-emerald-800 text-sm">ç›´æ¥å®‰æ’ (Direct Write)</h4>
                                <p class="text-xs text-emerald-700 mt-1">ä»£ä»·è¾ƒä½ï¼Œå·²æ‰¾åˆ°åˆé€‚ç©ºæ¡£ã€‚</p>
                                <div class="mt-3 bg-white p-2 rounded border border-emerald-200 text-xs font-mono text-stone-600">
                                    â†’ é”å®šï¼šå‘¨ä¸‰ 14:00 - ${14+hours}:00
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else if (totalCost < 100) {
                // Negotiation Case
                htmlContent = `
                    <div class="bg-indigo-50 border border-indigo-100 p-4 rounded-lg">
                        <div class="flex items-start">
                            <span class="text-xl mr-3">ğŸ¤</span>
                            <div>
                                <h4 class="font-bold text-indigo-800 text-sm">è§¦å‘åå•† (Negotiation)</h4>
                                <p class="text-xs text-indigo-700 mt-1">å•æ¬¡æ—¶é•¿è¿‡é•¿ï¼Œå»ºè®®æ‹†åˆ†ä»¥é™ä½ä»£ä»·ã€‚</p>
                                <div class="mt-3 space-y-2">
                                    <button class="w-full text-left bg-white hover:bg-indigo-100 p-2 rounded border border-indigo-200 text-xs text-stone-600 transition">
                                        æ–¹æ¡ˆ A: æ‹†åˆ†ä¸º 2æ¬¡ (å‘¨ä¸‰${Math.ceil(hours/2)}h + å‘¨äº”${Math.floor(hours/2)}h)
                                    </button>
                                    <button class="w-full text-left bg-white hover:bg-indigo-100 p-2 rounded border border-indigo-200 text-xs text-stone-600 transition">
                                        æ–¹æ¡ˆ B: ç‰ºç‰²å‘¨å››æ™šä¸Šçš„ç¤¾å›¢æ´»åŠ¨
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            } else {
                 // Circuit Breaker Case
                 htmlContent = `
                    <div class="bg-red-50 border border-red-100 p-4 rounded-lg">
                        <div class="flex items-start">
                            <span class="text-xl mr-3">ğŸ”Œ</span>
                            <div>
                                <h4 class="font-bold text-red-800 text-sm">é€»è¾‘ç†”æ–­ (Circuit Breaker)</h4>
                                <p class="text-xs text-red-700 mt-1">è¯¾è¡¨æåº¦æ‹¥æŒ¤ï¼ŒAIæ— æ³•æ‰¾åˆ°åˆç†è§£ã€‚å»ºè®®é™ä½æ—¶é•¿æˆ–æ‰‹åŠ¨è°ƒæ•´ã€‚</p>
                                <div class="mt-3 bg-white p-2 rounded border border-red-200 text-xs font-mono text-red-500">
                                    Error: Cost exceeded limit (100).
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }

            resultDiv.innerHTML = htmlContent;
        }

        // Init simulation once
        runSimulation(3, 'medium');


        // --- 3. Scenarios Logic ---
        const scenariosData = [
            {
                title: "æ¨¡ç³Šè¾“å…¥",
                bubbles: [
                    { type: 'user', text: "è¿™å‘¨æˆ‘è¦è‡ªä¹ 5ä¸ªå°æ—¶ã€‚" },
                    { type: 'ai', text: "æ”¶åˆ°ã€‚ä½†è¿™å‘¨è¯¾æ¯”è¾ƒæ»¡ï¼Œå¾ˆéš¾å®‰æ’æ•´å—æ—¶é—´ã€‚" },
                    { type: 'ai', text: "å»ºè®®æ–¹æ¡ˆï¼š<br>1. æ‹†åˆ†ä¸ºå‘¨ä¸‰æ™š3å°æ—¶ + å‘¨äº”ä¸‹åˆ2å°æ—¶ã€‚<br>2. æˆ–è€…ä½ å¯ä»¥ç‰ºç‰²å‘¨å››æ™šä¸Šçš„ç¤¾å›¢æ´»åŠ¨ã€‚", isOption: true }
                ]
            },
            {
                title: "åŠ¨æ€å‰æ‘‡",
                bubbles: [
                    { type: 'sys', text: "æ£€æµ‹åˆ°æ–°æ—¥ç¨‹ï¼šæ ¡ç¯®çƒé˜Ÿæ¯”èµ› (å‘¨å…­ 14:00)" },
                    { type: 'ai', text: "åŸºäºâ€˜ç¯®çƒèµ›â€™å±æ€§ï¼Œå·²ä¸ºæ‚¨è®¾ç½® **æå‰40åˆ†é’Ÿ** å¼ºæé†’ï¼ˆå«äº¤é€š+æ¢è£…å¤‡æ—¶é—´ï¼‰ã€‚" },
                    { type: 'sys', text: "æ£€æµ‹åˆ°æ–°æ—¥ç¨‹ï¼šç½‘è¯¾ (å‘¨æ—¥ 10:00)" },
                    { type: 'ai', text: "ç½‘è¯¾ä»…éœ€ **æå‰5åˆ†é’Ÿ** æé†’ã€‚" }
                ]
            },
            {
                title: "è¯­å¢ƒå¢å¼º",
                bubbles: [
                    { type: 'user', text: "å‘¨å…­ç¯®çƒèµ›ï¼Œæé†’æˆ‘å¸¦çƒé‹ã€‚" },
                    { type: 'ai', text: "ğŸ‘Œ å·²å°†å…ƒæ•°æ® [éœ€å¸¦çƒé‹] æŒ‚è½½è‡³â€˜å‘¨å…­ç¯®çƒèµ›â€™ã€‚" },
                    { type: 'user', text: "ä¸‹è¯¾å‰äº”åˆ†é’Ÿæé†’æˆ‘æŠ¢ç¥¨ã€‚" },
                    { type: 'ai', text: "æ­£åœ¨é”šå®š... æŸ¥åˆ°æ‚¨å‘¨äº” 11:45 ä¸‹è¯¾ã€‚å°†åœ¨ **11:40** å‘é€æŠ¢ç¥¨æé†’ã€‚" }
                ]
            },
            {
                title: "å†²çªç†”æ–­",
                bubbles: [
                    { type: 'user', text: "æ˜å¤©ä¸‹åˆ2ç‚¹æˆ‘è¦å»çœ‹ç”µå½±ã€‚" },
                    { type: 'sys', text: "âš ï¸ å†²çªè­¦å‘Šï¼šè¯¥æ—¶æ®µæœ‰â€˜çº¿æ€§ä»£æ•°â€™è¯¾ã€‚" },
                    { type: 'ai', text: "è¯·é€‰æ‹©æ“ä½œï¼š<br>A. å¼ºè¡Œå¿½ç•¥ (è®°ä¸ºé€ƒè¯¾)<br>B. æ ‡è®°ä¸ºè¯¾ç¨‹å–æ¶ˆ<br>C. å¸®æˆ‘æ‰¾ä¸‹ä¸€ä¸ªç©ºæ¡£" }
                ]
            },
            {
                title: "ä¸»åŠ¨é¢„è­¦",
                bubbles: [
                    { type: 'sys', text: "ğŸ“… ç³»ç»Ÿå‘¨æŠ¥åˆ†æä¸­..." },
                    { type: 'ai', text: "è­¦å‘Šï¼šè·ç¦»çº¿æ€§ä»£æ•°æœŸä¸­è€ƒè¿˜æœ‰5å¤©ï¼Œä¸”è¿‡å»ä¸€å‘¨æ— å¤ä¹ è®°å½•ã€‚" },
                    { type: 'ai', text: "å»ºè®®åˆ©ç”¨ä»Šæ™š 7 ç‚¹çš„ç©ºæ¡£çªå‡»ä¸€ä¸‹ï¼Ÿ", isAction: true }
                ]
            },
            {
                title: "è‡ªç”±æ“æ§",
                bubbles: [
                    { type: 'user', text: "åˆšæ‰æŠ½ç©ºæŠŠæ˜å¤©çš„è‹±è¯­ä½œä¸šå†™å®Œäº†ã€‚" },
                    { type: 'ai', text: "å¤ªæ£’äº†ï¼ğŸ‰ å·²æ ‡è®°å®Œæˆã€‚" },
                    { type: 'ai', text: "æ˜å¤©ä¸‹åˆ 2:00-4:00 çš„æ—¶é—´å—å·²é‡Šæ”¾ã€‚è¦å®‰æ’å»æ‰“çƒå—ï¼Ÿ" }
                ]
            }
        ];

        function switchScenario(index) {
            // Update Active Button
            document.querySelectorAll('.scenario-btn').forEach((btn, i) => {
                if (i === index) {
                    btn.classList.add('bg-indigo-50', 'border-indigo-200');
                    btn.classList.remove('border-transparent');
                    btn.querySelector('h3').classList.add('text-indigo-700');
                    btn.querySelector('span').classList.add('text-indigo-400');
                } else {
                    btn.classList.remove('bg-indigo-50', 'border-indigo-200');
                    btn.classList.add('border-transparent');
                    btn.querySelector('h3').classList.remove('text-indigo-700');
                    btn.querySelector('span').classList.remove('text-indigo-400');
                }
            });

            // Update Phone Content
            const data = scenariosData[index];
            const screen = document.getElementById('phoneScreen');
            screen.innerHTML = ''; // Clear

            // Add Time Stamp
            screen.innerHTML += `<div class="text-center text-xs text-stone-300 my-4">Today 9:42 AM</div>`;

            // Add Bubbles with delay
            let delay = 0;
            data.bubbles.forEach(bubble => {
                setTimeout(() => {
                    let bubbleHtml = '';
                    if (bubble.type === 'user') {
                        bubbleHtml = `
                            <div class="flex justify-end mb-4 animate-fade-in-up">
                                <div class="bg-indigo-600 text-white p-3 rounded-2xl rounded-tr-none max-w-[80%] text-sm shadow-sm">
                                    ${bubble.text}
                                </div>
                            </div>
                        `;
                    } else if (bubble.type === 'ai') {
                        bubbleHtml = `
                            <div class="flex justify-start mb-4 animate-fade-in-up">
                                <div class="bg-stone-100 text-stone-800 p-3 rounded-2xl rounded-tl-none max-w-[80%] text-sm shadow-sm border border-stone-200">
                                    <div class="font-bold text-xs text-indigo-500 mb-1">UniLife</div>
                                    ${bubble.text}
                                    ${bubble.isOption ? '<div class="mt-2 space-y-1"><button class="w-full bg-white border border-indigo-200 text-indigo-600 px-2 py-1 rounded text-xs">é€‰æ‹©æ–¹æ¡ˆ A</button><button class="w-full bg-white border border-stone-200 text-stone-500 px-2 py-1 rounded text-xs">é€‰æ‹©æ–¹æ¡ˆ B</button></div>' : ''}
                                    ${bubble.isAction ? '<button class="mt-2 w-full bg-indigo-600 text-white px-3 py-1.5 rounded text-xs font-bold shadow-sm">ç¡®è®¤å®‰æ’</button>' : ''}
                                </div>
                            </div>
                        `;
                    } else { // System
                        bubbleHtml = `
                            <div class="flex justify-center mb-4 animate-fade-in-up">
                                <div class="bg-stone-50 text-stone-400 px-3 py-1 rounded-full text-xs border border-stone-100">
                                    ${bubble.text}
                                </div>
                            </div>
                        `;
                    }
                    screen.insertAdjacentHTML('beforeend', bubbleHtml);
                    screen.scrollTop = screen.scrollHeight; // Auto scroll
                }, delay);
                delay += 800; // Stagger effect
            });
        }

        // --- 4. Architecture Interaction ---
        const archData = {
            4: {
                title: "L1 äº¤äº’å±‚ (Gateway)",
                desc: "å…¨æ¸ é“è€³ç›®ã€‚è´Ÿè´£å°†ç”¨æˆ·çš„è¯­éŸ³è½¬ä¸ºæ–‡å­— (ASR)ï¼Œå¹¶æ”¶é›†åœ°ç†ä½ç½®ã€å½“å‰æ—¶é—´ç­‰ Context ä¿¡æ¯ã€‚å®ƒä¸æ€è€ƒï¼Œåªè´Ÿè´£å¬å’Œçœ‹ã€‚",
                tags: ["Uni-app", "WeChat API", "Sensors"]
            },
            3: {
                title: "L2 è·¯ç”±å±‚ (Router)",
                desc: "æ„å›¾è¯†åˆ«ä¸­æ¢ã€‚åˆ†æç”¨æˆ·æ˜¯åœ¨â€œæ–°å»ºä»»åŠ¡â€ã€â€œä¿®æ”¹ä»»åŠ¡â€è¿˜æ˜¯â€œé—²èŠâ€ã€‚å°†éç»“æ„åŒ–è‡ªç„¶è¯­è¨€è½¬åŒ–ä¸ºæ ‡å‡† JSON æŒ‡ä»¤ã€‚",
                tags: ["Semantic Kernel", "LLM Intent Parser"]
            },
            2: {
                title: "L3 æ ¸å¿ƒå±‚ (Shadow Engine)",
                desc: "æœ€å¼ºå¤§è„‘ã€‚åŒ…å«å½±å­è°ƒåº¦å™¨ (Shadow Scheduler) å’Œ çŸ¥è¯†å¢å¼ºå™¨ (Enricher)ã€‚å®ƒåœ¨å†…å­˜ä¸­æ¨¡æ‹Ÿæ— æ•°ç§æ’æœŸæ–¹æ¡ˆï¼Œè®¡ç®—ä»£ä»·ï¼Œå¹¶å¤„ç†ç†”æ–­é€»è¾‘ã€‚",
                tags: ["C# Core Logic", "Tetris Algorithm", "Cost Function"]
            },
            1: {
                title: "L4 æ•°æ®å±‚ (Memory)",
                desc: "ç³»ç»Ÿçš„è®°å¿†åº“ã€‚Real DB å­˜å‚¨ç¡®å®šçš„æ—¥ç¨‹ï¼ŒShadow DB ç”¨äºæ²™ç›’æ¨¡æ‹Ÿï¼ŒUser Profile å­˜å‚¨ç»è¿‡å¤œé—´æ ¡å‡†è¿›åŒ–åçš„ç”¨æˆ·ç”»åƒã€‚",
                tags: ["PostgreSQL", "Redis", "Vector DB"]
            }
        };

        function showArch(layerId) {
            const title = document.getElementById('archTitle');
            const desc = document.getElementById('archDesc');
            const tags = document.getElementById('archTags');
            
            // Highlight active layer
            document.querySelectorAll('.arch-layer').forEach(el => el.classList.remove('active-layer'));
            // Note: In real DOM traversal we'd find specific element, here relying on hover CSS primarily, 
            // but updating content is key.
            
            const data = archData[layerId];
            title.textContent = data.title;
            desc.textContent = data.desc;
            
            let tagHtml = '';
            data.tags.forEach(tag => {
                tagHtml += `<span class="px-2 py-1 bg-stone-700 rounded text-xs text-sky-200">${tag}</span>`;
            });
            tags.innerHTML = tagHtml;
        }

        // --- 5. Calendar Interaction (NEW) ---
        function toggleGhosts() {
            const ghosts = document.querySelectorAll('.ghost-event');
            const checkbox = document.getElementById('ghostToggle');
            ghosts.forEach(ghost => {
                if (checkbox.checked) {
                    ghost.classList.remove('hidden');
                } else {
                    ghost.classList.add('hidden');
                }
            });
        }
    </script>
</body>
</html>
